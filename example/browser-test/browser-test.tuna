import { log, to_string } from "prelude"
import { toJSON, decode } from "json"

type Pair = { a: number, b: number }

export function main(): void | error {
  const parsed = toJSON(`{"a":10,"b":20}`)?
  const pair = decode<Pair>(parsed)?
  const sum = pair.a + pair.b
  log(to_string(sum))
}
