export type Error = { type: "Error", message: string }

export function Error(message: string): Error {
  return { "type": "Error", "message": message }
}

export function fallback<T>(value: T | Error, defaultValue: T): T {
  return switch (value) {
    case e as Error: defaultValue
    case v as T: v
  }
}

