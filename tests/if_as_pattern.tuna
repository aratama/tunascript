// expect: format error
// expect: db open ok
import { log } from "prelude"
import { run_formatter } from "runtime"
import { db_open } from "sqlite"

export function main(): void {
  const formatted = run_formatter("export function main(: void {}")
  if (formatted as error) {
    formatted.message
    log("format error")
  } else {
    log("format ok")
  }

  const opened = db_open(":memory:")
  if (opened as error) {
    log("db open error: " + opened.message)
    return
  }
  log("db open ok")
}
