// expect: ok
// expect: ready
// expect: error
// expect: oops

import { log, Error, type Error } from "prelude"

export function main(): void {
  const a: string | Error = "ready"
  switch (a) {
    case a as string: {
      log("ok")
      log(a)
    }
    case a as Error: {
      log("error")
      log(a.message)
    }
  }

  const b: string | Error = Error("oops")
  switch (b) {
    case b as string: {
      log("ok")
      log(b)
    }
    case b as Error: {
      log("error")
      log(b.message)
    }
  }
}
