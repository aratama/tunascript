// expect: ok
// expect: Alice
// expect: 30

import { log, to_string } from "prelude"
import { parse } from "json"

type Person = { name: string, age: f64 }

export function main(): void | error {
  const decoded = parse<Person>(`{"name":"Alice","age":30}`)?
  log("ok")
  log(decoded.name)
  log(to_string(decoded.age))
}
